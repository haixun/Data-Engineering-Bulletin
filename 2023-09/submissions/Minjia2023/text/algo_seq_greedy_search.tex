\begin{algorithm}[t]
\small
\DontPrintSemicolon
\caption{\SeqFullName (\SeqShortName)}\label{minjia_algo:seq_greedy_search}
\KwIn{graph $G$, starting point $P$, query $Q$, queue capacity $L$}
\KwOut{$K$ nearest neighbors of $Q$}
priority queue $S$ $\gets \emptyset$ \tcc*{{\color{blue} sorted based on distance}}
%set $S$'s capacity as $L$\;
index $i \gets 0$\;
compute $dist(P, Q)$\; \label{minjia_algo_line:SGS_starting_1}
add $P$ into $S$\; \label{minjia_algo_line:SGS_starting_2}
\While(\tcc*[h]{{\color{blue} stop condition}}){ $S$ has unchecked vertices} { \label{minjia_algo_line:SGS_while_1}
    $i \gets$ the index of the 1st unchecked vertex in $S$\; \label{minjia_algo_line:SGS_first_unchecked}
    mark $v_i$ as checked\;
%    \verb|/*| Expand $v_i$ \verb|*/|\;
    % \tcc{{\color{blue} Expand $v_i$}}
    \ForEach{neighbor $u$ of $v_i$ in $G$} { \label{minjia_algo_line:SGS_expand_1}
        \If{$u$ is not visited} {
            mark $u$ as visited\;
            compute $dist(u, Q)$\; \label{minjia_algo_line:SGS_adding_1}
            add $u$ into $S$ \tcc*{{\color{blue} $u$ is unchecked}} \label{minjia_algo_line:SGS_adding_2}
        }
    } \label{minjia_algo_line:SGS_expand_2}
    \textbf{if} $S$.size() $> L$ \textbf{then} $S$.resize($L$)\; \label{minjia_algo_line:queue_resize}
} \label{minjia_algo_line:SGS_while_2}
\Return the first $K$ vertices in $S$\;
\end{algorithm}


%%%%%%%%%%%%%
%%% backup
%\begin{algorithm}
%\caption{\SeqFullName (\SeqShortName)}\label{minjia_algo:seq_greedy_search}
%\begin{algorithmic}[1]
%\REQUIRE graph $G$, starting point $P$, query $Q$, queue capacity $L$
%\ENSURE $K$ nearest neighbors of $Q$
%\STATE priority queue $S$ $\gets \emptyset$
%\STATE set $S$'s capacity as $L$
%\STATE index $i \gets 0$
%\STATE compute $dist(P, Q)$ \label{minjia_algo_line:SGS_starting_1}
%\STATE add $P$ into $S$ \label{minjia_algo_line:SGS_starting_2}
%%\WHILE{$i < L$} \label{minjia_algo_line:SGS_while_1}
%\WHILE{has unchecked vertices in $S$} \label{minjia_algo_line:SGS_while_1}
%    \STATE $i \gets$ the index of the 1st unchecked vertex in $S$
%    \STATE mark $v_i$ as checked
%%    \COMMENT{Expand $v_i$}
%    \STATE \verb|/*| Expand $v_i$ \verb|*/|
%    \FOR{every neighbor $u$ of $v_i$ in $G$} \label{minjia_algo_line:SGS_expand_1}
%        \IF{$u$ is not visited} 
%            \STATE mark $u$ as visited
%            \STATE compute $dist(u, Q)$ \label{minjia_algo_line:SGS_adding_1}
%            \STATE add $u$ into $S$ \label{minjia_algo_line:SGS_adding_2}
%        \ENDIF
%    \ENDFOR \label{minjia_algo_line:SGS_expand_2}
%\ENDWHILE \label{minjia_algo_line:SGS_while_2}
%\RETURN the first $K$ vertices in $S$
%\end{algorithmic}
%\end{algorithm}
%%% end backup
%%%%%%%%%%%%%