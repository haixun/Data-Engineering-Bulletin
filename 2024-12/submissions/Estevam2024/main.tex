% \documentclass[conference]{IEEEtran}
% \IEEEoverridecommandlockouts

% The preceding line is only needed to identify funding in the first footnote. If that is unneeded, please comment it out.
% \documentclass[11pt,dvipdfm,dvipsnames]{article}
\documentclass[11pt,dvipsnames]{article}
\usepackage{deauthor,times,graphicx}
\usepackage{cite}
\usepackage{amsmath,amssymb,amsfonts}
\usepackage{algorithmic}
\usepackage{textcomp}
% \usepackage{xcolor}
\usepackage{xcolor}

\usepackage{tcolorbox}
\usepackage{color}
\usepackage{cleveref}
\usepackage{booktabs} % For formal tables
\usepackage{bbding}

\usepackage{subcaption}

\usepackage{enumitem}
\setlist{nolistsep}
% \usepackage{hyperref}
\usepackage{pifont}
% \usepackage{natbib}
\usepackage{multirow,multicol}

\definecolor{cadmiumgreen}{rgb}{0.0, 0.42, 0.24}
\definecolor{cardinal}{rgb}{0.77, 0.12, 0.23}
\definecolor{cadmiumred}{rgb}{0.89, 0.0, 0.13}

\usepackage{fontenc}
\usepackage{inputenc}


\DeclareRobustCommand{\company}{Megagon Labs}%%

\newcommand{\code}[1]{\texttt{\small #1}}
\newcommand{\todo}[1]{\textcolor{red}{ #1}}

\newcommand{\nikita}[1]{\textcolor{blue}{\textbf{Nikita}: #1}}
\newcommand{\saj}[1]{\textcolor{magenta}{\textbf{Sajjadur}: #1}}
\newcommand{\dz}[1]{\textcolor{purple}{\textbf{Dan}: #1}}
\newcommand{\estevam}[1]{\textcolor{red}{\textbf{Estevam}: #1}}
\newcommand{\eser}[1]{\textcolor{orange}{\textbf{Eser}: #1}}

\newcommand{\eg}{{\itshape e.g.}, }
\newcommand{\ie}{{\itshape i.e.}, }

\newcommand{\stitle}[1]{\vspace{0.2em}\noindent\textbf{#1}}%%
\newcommand{\etitle}[1]{\vspace{0.2em}\noindent{{\it #1}}}%%
\newcommand{\emtitle}[1]{\vspace{0.15em}\noindent\underline{\em #1}}%%

\def\BibTeX{{\rm B\kern-.05em{\sc i\kern-.025em b}\kern-.08em
    T\kern-.1667em\lower.7ex\hbox{E}\kern-.125emX}}
\begin{document}

\title{Retrieval Augmented Generation in the Wild: A \emph{System 2} Perspective}

\author{Sajjadur Rahman\footnote{The first two authors contributed equally.} \quad Dan Zhang$^*$ \quad Nikita Bhutani \quad Estevam Hruschka \quad Eser Kandogan\\
Megagon Labs\\
\texttt{\{sajjadur, dan\_z, nikita, estevam, eser\}@megagon.ai}
}
% listed alphabetically by first name

\maketitle

\begin{abstract}
Large language models (LLMs), despite their impressive capabilities in natural language understanding tasks in open-domain, often lack effectiveness with similar tasks in enterprise applications due to potential hallucinations, weak multi-hop reasoning ability, and limitations in adapting to heterogeneous data types, among others. Such issues primarily arise due to the absence of private, on-premises enterprises from an LLM's training corpus. Knowledge-intensive tasks in enterprise often require multi-step reasoning, deep contextual understanding, and integration of information stored and accessed in heterogeneous formats (\eg tables, graphs, documents, and JSON), which LLMs aren't inherently equipped to handle without significant adaptation.
To this end, retrieval augmented generation (RAG) offers promise in instrumenting such adaptations on demand. 
While RAG-based approaches focus on controlling the generation and mitigating hallucinations, existing solutions are not sufficient for the requirements of the enterprise settings. 

In this paper, we outline our approaches toward understanding and implementing a more effective RAG workflow in the wild. To achieve the goal, we draw on the cognitive science concepts of System 1 (fast, intuitive thinking) and System 2 (slow, deliberate, analytical thinking.) In particular, we discuss how existing RAG approaches are more aligned to \emph{System 1} and propose to shift from traditional single-model architectures to compound AI systems within a \emph{System 2} framework to improve RAG, especially in complex enterprise applications. 
Such compound AI systems adopt a more systematic approach by assigning specialized tasks to different intelligent agents, optimizing retrieval and generation performance with a retrieval-augmented generation workflow. 
\end{abstract}


\input{submissions/Estevam2024/intro}
\input{submissions/Estevam2024/rag_background}
\input{submissions/Estevam2024/rag_improvments}
\input{submissions/Estevam2024/rag_system2}
\input{submissions/Estevam2024/futurework}
\input{submissions/Estevam2024/conclusion}







\section*{Acknowledgment}

We thank the Editors of IEEE Data Engineering Bulletin for their valuable feedback: their suggestions immensely improved the quality of the article. Exploring these research problems required a significantly larger cast of characters than the author list in this paper does justice. We thank the co-authors of all the research papers cited in this article. 



\bibliographystyle{IEEEtran}
\bibliography{submissions/Estevam2024/custom,submissions/Estevam2024/custom_dz}

% \begin{thebibliography}{00}
% \bibitem{b1} G. Eason, B. Noble, and I. N. Sneddon, ``On certain integrals of Lipschitz-Hankel type involving products of Bessel functions,'' Phil. Trans. Roy. Soc. London, vol. A247, pp. 529--551, April 1955.
% \bibitem{b2} J. Clerk Maxwell, A Treatise on Electricity and Magnetism, 3rd ed., vol. 2. Oxford: Clarendon, 1892, pp.68--73.
% \bibitem{b3} I. S. Jacobs and C. P. Bean, ``Fine particles, thin films and exchange anisotropy,'' in Magnetism, vol. III, G. T. Rado and H. Suhl, Eds. New York: Academic, 1963, pp. 271--350.
% \bibitem{b4} K. Elissa, ``Title of paper if known,'' unpublished.
% \bibitem{b5} R. Nicole, ``Title of paper with only first word capitalized,'' J. Name Stand. Abbrev., in press.
% \bibitem{b6} Y. Yorozu, M. Hirano, K. Oka, and Y. Tagawa, ``Electron spectroscopy studies on magneto-optical media and plastic substrate interface,'' IEEE Transl. J. Magn. Japan, vol. 2, pp. 740--741, August 1987 [Digests 9th Annual Conf. Magnetics Japan, p. 301, 1982].
% \bibitem{b7} M. Young, The Technical Writer's Handbook. Mill Valley, CA: University Science, 1989.
% \end{thebibliography}

\end{document}
